<div class="card folders">

  <div class="card-title mh-fc">

    <h1>
        Folders
    </h1>

    <a href="javascript:showAddFolderForm();">
        <i class="bi bi-plus-lg"></i>
    </a>

  </div>

  {% include "folders/add.html" %}

  <ul class="list-group">
    {% if folders %}
    {% for folder in folders %}
    <li class="list-group-item mh-ft" id="folder-{{ folder.id }}">

      <div class="folder-show mh-fc">

        {% if folder.children.exists %}
          <span class="folder-icon">
            <i class="bi bi-folder-fill"></i>
          </span>
        {% elif folder.home_column and folder.user == user %}
          <span class="folder-icon-home">
            <i class="bi bi-house-door"></i>
          </span>
        {% else %}
          <span class="folder-icon">
            <i class="bi bi-folder"></i>
          </span>
        {% endif %}

        <a class="folder-link"
            href="/folders/{{ folder.id }}/{{ page }}"
            {% if page != 'tasks' and folder.id == selected_folder.id %}
            style="font-weight: 600;"
            {% endif %}
            {% if page == 'tasks' and folder in selected_folders %}
            style="font-weight: 600;"
            {% endif %}
            >
            {{ folder.name }}
            {% if folder.children.exists %}
              <span class="text-muted small">({{ folder.children.count }})</span>
            {% endif %}
        </a>
      </div>

      {% include "folders/edit.html" %}

      {% include "folders/menu.html" %}

    </li>
    {% endfor %}
    {% endif %}

    <li class="list-group-item mh-ft">

      <div class="folder-show mh-fc">

        <span class="folder-icon">
          <i class="bi bi-folder"></i>
        </span>

        <a class="folder-link" href="/folders/0/{{ page }}" {% if not selected_folder %} style="font-weight: bold;"{% endif %}>
          Unsorted
        </a>

      </div>

    </li>

  </ul>

</div>