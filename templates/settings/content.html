{% extends "settings/main.html" %}
{% block subcontent %}
    <div class="card">
        <div class="card-title">
            <h1>Theme</h1>
        </div>
        <p class="card-text">Set the theme for the application.</p>
        <table class="options">
            <tr>
                <td class="setting-label">Theme:</td>
                <td class="setting-control">
                    <form action="{% url 'settings-theme' %}" method="post">
                        {% csrf_token %}
                        <input type="hidden" name="theme" value="{{ theme }}">
                        <div class="dropdown theme-select" x-data="dropdown()">
                            <button class="btn btn-secondary"
                                    type="button"
                                    x-ref="button"
                                    @click="toggle()"
                                    :aria-expanded="open">
                                <span>
                                    {% if theme == "hojicha" %}
                                        Hojicha
                                    {% elif theme == "auto" %}
                                        Auto
                                    {% else %}
                                        Matcha
                                    {% endif %}
                                </span>
                                <i class="icon-chevron-down"></i>
                            </button>
                            <ul class="dropdown-menu" x-ref="menu" x-show="open">
                                <li {% if theme == "matcha" or theme == "" %}class="active"{% endif %}>
                                    <a class="dropdown-item"
                                       href="#"
                                       @click.prevent="$el.closest('form').querySelector('[name=theme]').value='matcha'; $el.closest('form').submit();">Matcha</a>
                                </li>
                                <li {% if theme == "hojicha" %}class="active"{% endif %}>
                                    <a class="dropdown-item"
                                       href="#"
                                       @click.prevent="$el.closest('form').querySelector('[name=theme]').value='hojicha'; $el.closest('form').submit();">Hojicha</a>
                                </li>
                                <li {% if theme == "auto" %}class="active"{% endif %}>
                                    <a class="dropdown-item"
                                       href="#"
                                       @click.prevent="$el.closest('form').querySelector('[name=theme]').value='auto'; $el.closest('form').submit();">Auto</a>
                                </li>
                            </ul>
                        </div>
                    </form>
                </td>
            </tr>
        </table>
    </div>
{% endblock subcontent %}
